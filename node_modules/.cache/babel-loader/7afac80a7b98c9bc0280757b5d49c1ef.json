{"ast":null,"code":"var _jsxFileName = \"/Users/mr.mac/SolanaHackathon/solana/src/Pages/02_SendTransactions.js\",\n    _s = $RefreshSig$();\n\nimport { Explanation, ExplanationText, Title } from \"../Components/Explanation\";\nimport { BrowserRouter as Router, useHistory, Link } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { Connection, SystemProgram, PublicKey } from \"@solana/web3.js\";\nimport fetchAllAcountInfo from \"../utils/fetchAllAccountInfo\";\nimport AccountCard from \"../Components/AccountCard\";\nimport Github from \"../Components/Github\";\nimport { Row, Col, Container } from \"react-grid-system\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SendTransaction = ({\n  accountList,\n  connection\n}) => {\n  _s();\n\n  const [transaction, setTransactions] = useState(false);\n  const [goToNextPage, setNextPage] = useState(false);\n  const [value, setValue] = useState(\"\");\n  const [balanceLoading, setBalanceLoading] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const sendTransactions = async e => {\n    setLoading(true);\n    console.log(transaction, \"??\");\n    const pie = SystemProgram.transfer(transaction[0].publicKey, transaction[1].publicKey, 1000);\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    const abortController = new AbortController();\n\n    const getNewAccount = async () => {\n      const account = await new PublicKey(\"DoFxSedewimW1j8wz1LDhNUsqWs97aytqXkhFj8WBz8H\");\n\n      if (connection) {\n        var _accountList$, _accountList$2, _accountList$4;\n\n        setLoading(true);\n        setBalanceLoading(true);\n        const secondAccount = await new PublicKey(accountList === null || accountList === void 0 ? void 0 : (_accountList$ = accountList[0]) === null || _accountList$ === void 0 ? void 0 : _accountList$.publicKey.toString());\n        const accountDetailOne = await fetchAllAcountInfo((accountList === null || accountList === void 0 ? void 0 : (_accountList$2 = accountList[0]) === null || _accountList$2 === void 0 ? void 0 : _accountList$2.publicKey) || null, connection);\n        const airDrop = await connection.requestAirdrop(secondAccount, 10000000);\n\n        const tryAgain = async (airdDrop, number = 10) => {\n          const confirmedTransaction = await connection.getConfirmedTransaction(airdDrop, 1);\n\n          if (confirmedTransaction || !number || abortController.signal.aborted) {\n            var _accountList$3;\n\n            const accountDetailTwo = await fetchAllAcountInfo(account, connection);\n            await setTransactions([{ ...accountDetailOne,\n              secretKey: accountList === null || accountList === void 0 ? void 0 : (_accountList$3 = accountList[0]) === null || _accountList$3 === void 0 ? void 0 : _accountList$3.secretKey\n            }, accountDetailTwo]);\n            setBalanceLoading(false);\n            return;\n          } else {\n            await new Promise(resolve => setTimeout(() => resolve(), 3000));\n            await tryAgain(airDrop, number - 1);\n          }\n        };\n\n        tryAgain(airDrop);\n        const accountDetailTwo = await fetchAllAcountInfo(account, connection);\n        setTransactions([{ ...accountDetailOne,\n          secretKey: accountList === null || accountList === void 0 ? void 0 : (_accountList$4 = accountList[0]) === null || _accountList$4 === void 0 ? void 0 : _accountList$4.secretKey\n        }, accountDetailTwo]);\n        setLoading(false);\n      }\n    };\n\n    getNewAccount();\n    return () => {\n      abortController.abort();\n    };\n  }, [connection]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(Explanation, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"Let's try sending a transaction now!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ExplanationText, {\n        children: \"Some money has been airdropped into your account! Being able to send and receive a transaction is really important. To do this, you need the reciever wallet, and the send wallet. This page has two generated accounts. If you want to check the transaction, you can see a list of all transactions here:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        xs: 5,\n        children: /*#__PURE__*/_jsxDEV(AccountCard, {\n          account: transaction[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        xs: 2,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            height: \"100%\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            style: {\n              width: \"50%\",\n              margin: \"auto\"\n            },\n            src: \"Arrow_east.svg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        xs: 5,\n        children: /*#__PURE__*/_jsxDEV(AccountCard, {\n          account: transaction[1],\n          loadingBalance: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        width: \"100%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => {\n          setValue(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: sendTransactions,\n        children: \"Send coins to new account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: `/success`,\n      className: !accountList.length ? \"disabled\" : null,\n      children: \"Finish\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Github, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SendTransaction, \"ncouXsJ/yoFHxulGi0tqXEt5xOI=\");\n\n_c = SendTransaction;\nexport default SendTransaction;\n\nvar _c;\n\n$RefreshReg$(_c, \"SendTransaction\");","map":{"version":3,"sources":["/Users/mr.mac/SolanaHackathon/solana/src/Pages/02_SendTransactions.js"],"names":["Explanation","ExplanationText","Title","BrowserRouter","Router","useHistory","Link","useEffect","useState","Connection","SystemProgram","PublicKey","fetchAllAcountInfo","AccountCard","Github","Row","Col","Container","SendTransaction","accountList","connection","transaction","setTransactions","goToNextPage","setNextPage","value","setValue","balanceLoading","setBalanceLoading","loading","setLoading","sendTransactions","e","console","log","pie","transfer","publicKey","abortController","AbortController","getNewAccount","account","secondAccount","toString","accountDetailOne","airDrop","requestAirdrop","tryAgain","airdDrop","number","confirmedTransaction","getConfirmedTransaction","signal","aborted","accountDetailTwo","secretKey","Promise","resolve","setTimeout","abort","display","height","width","margin","target","length"],"mappings":"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","sourcesContent":["import { Explanation, ExplanationText, Title } from \"../Components/Explanation\";\nimport { BrowserRouter as Router, useHistory, Link } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { Connection, SystemProgram, PublicKey } from \"@solana/web3.js\";\n\nimport fetchAllAcountInfo from \"../utils/fetchAllAccountInfo\";\nimport AccountCard from \"../Components/AccountCard\";\nimport Github from \"../Components/Github\";\nimport { Row, Col, Container } from \"react-grid-system\";\n\nconst SendTransaction = ({ accountList, connection }) => {\n  const [transaction, setTransactions] = useState(false);\n  const [goToNextPage, setNextPage] = useState(false);\n  const [value, setValue] = useState(\"\");\n  const [balanceLoading, setBalanceLoading] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const sendTransactions = async (e) => {\n    setLoading(true);\n    console.log(transaction, \"??\");\n\n    const pie = SystemProgram.transfer(\n      transaction[0].publicKey,\n      transaction[1].publicKey,\n      1000,\n    );\n\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    const abortController = new AbortController();\n\n    const getNewAccount = async () => {\n      const account = await new PublicKey(\n        \"DoFxSedewimW1j8wz1LDhNUsqWs97aytqXkhFj8WBz8H\",\n      );\n\n      if (connection) {\n        setLoading(true);\n        setBalanceLoading(true);\n\n        const secondAccount = await new PublicKey(\n          accountList?.[0]?.publicKey.toString(),\n        );\n\n        const accountDetailOne = await fetchAllAcountInfo(\n          accountList?.[0]?.publicKey || null,\n          connection,\n        );\n\n        const airDrop = await connection.requestAirdrop(\n          secondAccount,\n          10000000,\n        );\n\n        const tryAgain = async (airdDrop, number = 10) => {\n          const confirmedTransaction = await connection.getConfirmedTransaction(\n            airdDrop,\n            1,\n          );\n\n          if (\n            confirmedTransaction ||\n            !number ||\n            abortController.signal.aborted\n          ) {\n            const accountDetailTwo = await fetchAllAcountInfo(\n              account,\n              connection,\n            );\n\n            await setTransactions([\n              { ...accountDetailOne, secretKey: accountList?.[0]?.secretKey },\n              accountDetailTwo,\n            ]);\n\n            setBalanceLoading(false);\n\n            return;\n          } else {\n            await new Promise((resolve) => setTimeout(() => resolve(), 3000));\n\n            await tryAgain(airDrop, number - 1);\n          }\n        };\n\n        tryAgain(airDrop);\n        const accountDetailTwo = await fetchAllAcountInfo(account, connection);\n\n        setTransactions([\n          { ...accountDetailOne, secretKey: accountList?.[0]?.secretKey },\n          accountDetailTwo,\n        ]);\n        setLoading(false);\n      }\n    };\n\n    getNewAccount();\n    return () => {\n      abortController.abort();\n    };\n  }, [connection]);\n\n  return (\n    <Container className=\"wrapper\">\n      <Explanation>\n        <Title>Let's try sending a transaction now!</Title>\n        <ExplanationText>\n          Some money has been airdropped into your account! Being able to send\n          and receive a transaction is really important. To do this, you need\n          the reciever wallet, and the send wallet. This page has two generated\n          accounts. If you want to check the transaction, you can see a list of\n          all transactions here:\n        </ExplanationText>\n      </Explanation>\n\n      <Row>\n        <Col xs={5}>\n          <AccountCard account={transaction[0]} />\n        </Col>\n        <Col xs={2}>\n          <div\n            style={{\n              display: \"flex\",\n              height: \"100%\",\n            }}\n          >\n            <img\n              style={{\n                width: \"50%\",\n                margin: \"auto\",\n              }}\n              src=\"Arrow_east.svg\"\n            />\n          </div>\n        </Col>\n        <Col xs={5}>\n          <AccountCard account={transaction[1]} loadingBalance={loading} />\n        </Col>\n      </Row>\n\n      <div\n        style={{\n          display: \"flex\",\n          width: \"100%\",\n        }}\n      >\n        <input\n          onChange={(e) => {\n            setValue(e.target.value);\n          }}\n        ></input>\n        <button onClick={sendTransactions}>Send coins to new account</button>\n      </div>\n\n      {/* \n      <div>\n        As you can see there is a transaction fee associated with your\n        transaction.\n      </div> */}\n      <Link to={`/success`} className={!accountList.length ? \"disabled\" : null}>\n        Finish\n      </Link>\n\n      <Github />\n    </Container>\n  );\n};\n\nexport default SendTransaction;\n"]},"metadata":{},"sourceType":"module"}